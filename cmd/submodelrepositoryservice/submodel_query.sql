SELECT "s"."id" AS "submodel_id", "s"."id_short" AS "submodel_id_short", "s"."category" AS "submodel_category", "s"."kind" AS "submodel_kind", "s"."embedded_data_specification" AS "embedded_data_specification", COALESCE(((SELECT jsonb_agg(jsonb_build_object('language', "dn"."language", 'text', "dn"."text", 'id', "dn"."id")) FROM "lang_string_name_type_reference" AS "dn_ref" INNER JOIN "lang_string_name_type" AS "dn" ON ("dn"."lang_string_name_type_reference_id" = "dn_ref"."id") WHERE ("dn_ref"."id" = "s"."displayname_id"))), '[]'::jsonb) AS "submodel_display_names", COALESCE(((SELECT jsonb_agg(jsonb_build_object('language', "d"."language", 'text', "d"."text", 'id', "d"."id")) FROM "lang_string_text_type_reference" AS "dr" INNER JOIN "lang_string_text_type" AS "d" ON ("d"."lang_string_text_type_reference_id" = "dr"."id") WHERE ("dr"."id" = "s"."description_id"))), '[]'::jsonb) AS "submodel_descriptions", COALESCE(((SELECT jsonb_agg(jsonb_build_object('reference_id', r.id, 'reference_type', r.type, 'key_id', rk.id, 'key_type', rk.type, 'key_value', rk.value) ORDER BY rk.position) FROM "reference" AS "r" LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "r"."id") WHERE ("r"."id" = "s"."semantic_id"))), '[]'::jsonb) AS "submodel_semantic_id", COALESCE(((SELECT jsonb_agg(jsonb_build_object('reference_id', ref.id, 'reference_type', ref.type, 'parentReference', ref.parentreference, 'rootReference', ref.rootreference, 'key_id', rk.id, 'key_type', rk.type, 'key_value', rk.value) ORDER BY rk.position) FROM "reference" AS "ref" LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "ref"."id") WHERE (("ref"."rootreference" = "s"."semantic_id") AND ("ref"."id" != "s"."semantic_id")))), '[]'::jsonb) AS "submodel_semantic_id_referred", COALESCE(((SELECT jsonb_agg(jsonb_build_object('reference_id', "ref"."id", 'reference_type', "ref"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "submodel_supplemental_semantic_id" AS "sssi" LEFT JOIN "reference" AS "ref" ON ("ref"."id" = "sssi"."reference_id") LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "ref"."id") WHERE ("sssi"."submodel_id" = "s"."id"))), '[]'::jsonb) AS "submodel_supplemental_semantic_ids", COALESCE(((SELECT jsonb_agg(jsonb_build_object('supplemental_root_reference_id', "sssi"."reference_id", 'reference_id', "ref"."id", 'reference_type', "ref"."type", 'parentReference', "ref"."parentreference", 'rootReference', "ref"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "submodel_supplemental_semantic_id" AS "sssi" LEFT JOIN "reference" AS "ref" ON ("ref"."rootreference" = "sssi"."reference_id") LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "ref"."id") WHERE (("sssi"."submodel_id" = "s"."id") AND ("ref"."id" IS NOT NULL)))), '[]'::jsonb) AS "submodel_supplemental_semantic_id_referred", COALESCE(((SELECT jsonb_agg(jsonb_build_object('dbId', "jt"."qualifier_id", 'kind', "q"."kind", 'type', "q"."type", 'position', "q"."position", 'value_type', "q"."value_type", 'value', COALESCE("q"."value_text", "q"."value_num"::text, "q"."value_bool"::text, "q"."value_time"::text, "q"."value_datetime"::text), 'semanticIdReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "reference" AS "r" INNER JOIN "qualifier" AS "q" ON ("q"."semantic_id" = "r"."id") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("q"."id" = "jt"."qualifier_id")), 'semanticIdReferredReferencesRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'parentReference', "r"."parentreference", 'rootReference', "r"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "reference" AS "ref" INNER JOIN "reference" AS "r" ON ("ref"."id" = "r"."rootreference") INNER JOIN "qualifier" AS "q" ON ("q"."semantic_id" = "ref"."id") LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "r"."id") WHERE (("jt"."qualifier_id" = "q"."id") AND ("r"."id" IS NOT NULL))), 'valueIdReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "reference" AS "r" INNER JOIN "qualifier" AS "q" ON ("q"."value_id" = "r"."id") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("q"."id" = "jt"."qualifier_id")), 'valueIdReferredReferencesRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'parentReference', "r"."parentreference", 'rootReference', "r"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "reference" AS "ref" INNER JOIN "reference" AS "r" ON ("ref"."id" = "r"."rootreference") INNER JOIN "qualifier" AS "q" ON ("q"."value_id" = "ref"."id") LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "r"."id") WHERE (("jt"."qualifier_id" = "q"."id") AND ("r"."id" IS NOT NULL))), 'supplementalSemanticIdReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "reference" AS "r" INNER JOIN "qualifier_supplemental_semantic_id" AS "qssi" ON ("qssi"."qualifier_id" = "jt"."qualifier_id") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("qssi"."reference_id" = "r"."id")), 'supplementalSemanticIdReferredReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "ref"."id", 'reference_type', "ref"."type", 'parentReference', "ref"."parentreference", 'rootReference', "ref"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "reference" AS "ref" INNER JOIN "qualifier_supplemental_semantic_id" AS "qssi" ON ("qssi"."qualifier_id" = "jt"."qualifier_id") INNER JOIN "reference_key" AS "rk" ON ("ref"."id" = "rk"."reference_id") WHERE (("ref"."rootreference" = "qssi"."reference_id") AND ("ref"."id" IS NOT NULL))))) FROM "submodel_qualifier" AS "jt" INNER JOIN "qualifier" AS "q" ON ("jt"."qualifier_id" = "q"."id") WHERE ("jt"."submodel_id" = "s"."id"))), '[]'::jsonb) AS "submodel_qualifiers", COALESCE(((SELECT jsonb_agg(jsonb_build_object('dbId', "jt"."extension_id", 'name', "e"."name", 'position', "e"."position", 'value_type', "e"."value_type", 'value', COALESCE("e"."value_text", "e"."value_num"::text, "e"."value_bool"::text, "e"."value_time"::text, "e"."value_datetime"::text), 'semanticIdReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value") ORDER BY rk.position) FROM "reference" AS "r" INNER JOIN "extension" AS "e" ON ("e"."semantic_id" = "r"."id") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("e"."id" = "jt"."extension_id")), 'semanticIdReferredReferencesRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'parentReference', "r"."parentreference", 'rootReference', "r"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value") ORDER BY rk.position) FROM "reference" AS "ref" INNER JOIN "reference" AS "r" ON ("ref"."id" = "r"."rootreference") INNER JOIN "extension" AS "e" ON ("e"."semantic_id" = "ref"."id") LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "r"."id") WHERE (("jt"."extension_id" = "e"."id") AND ("r"."id" IS NOT NULL))), 'refersToReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value") ORDER BY rk.position) FROM "reference" AS "r" INNER JOIN "extension_refers_to" AS "ert" ON ("ert"."extension_id" = "jt"."extension_id") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("ert"."reference_id" = "r"."id")), 'refersToReferredReferencesRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "ref"."id", 'reference_type', "ref"."type", 'parentReference', "ref"."parentreference", 'rootReference', "ref"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value") ORDER BY rk.position) FROM "reference" AS "ref" INNER JOIN "extension_refers_to" AS "ert" ON ("ert"."extension_id" = "jt"."extension_id") INNER JOIN "reference_key" AS "rk" ON ("ref"."id" = "rk"."reference_id") WHERE (("ref"."rootreference" = "ert"."reference_id") AND ("ref"."id" IS NOT NULL))), 'supplementalSemanticIdReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value") ORDER BY rk.position) FROM "reference" AS "r" INNER JOIN "extension_supplemental_semantic_id" AS "essi" ON ("essi"."extension_id" = "jt"."extension_id") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("essi"."reference_id" = "r"."id")), 'supplementalSemanticIdReferredReferenceRows', (SELECT jsonb_agg(jsonb_build_object('reference_id', "ref"."id", 'reference_type', "ref"."type", 'parentReference', "ref"."parentreference", 'rootReference', "ref"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value") ORDER BY rk.position) FROM "reference" AS "ref" INNER JOIN "extension_supplemental_semantic_id" AS "essi" ON ("essi"."extension_id" = "jt"."extension_id") INNER JOIN "reference_key" AS "rk" ON ("ref"."id" = "rk"."reference_id") WHERE (("ref"."rootreference" = "essi"."reference_id") AND ("ref"."id" IS NOT NULL))))) FROM "submodel_extension" AS "jt" INNER JOIN "extension" AS "e" ON ("jt"."extension_id" = "e"."id") WHERE ("jt"."submodel_id" = "s"."id"))), '[]'::jsonb) AS "submodel_extensions", COALESCE(((SELECT jsonb_agg(jsonb_build_object('dbId', "ai"."id", 'version', "ai"."version", 'revision', "ai"."revision", 'templateId', "ai"."templateid", 'embedded_data_specification', "ai"."embedded_data_specification", 'creator', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "administrative_information" AS "admi" INNER JOIN "reference" AS "r" ON ("r"."id" = "admi"."creator") INNER JOIN "reference_key" AS "rk" ON ("r"."id" = "rk"."reference_id") WHERE ("admi"."id" = "s"."administration_id")), 'creatorReferred', (SELECT jsonb_agg(jsonb_build_object('reference_id', "r"."id", 'reference_type', "r"."type", 'parentReference', "r"."parentreference", 'rootReference', "r"."rootreference", 'key_id', "rk"."id", 'key_type', "rk"."type", 'key_value', "rk"."value")) FROM "administrative_information" AS "admi" INNER JOIN "reference" AS "r" ON ("r"."rootreference" = "admi"."creator") LEFT JOIN "reference_key" AS "rk" ON ("rk"."reference_id" = "r"."id") WHERE (("r"."id" IS NOT NULL) AND ("admi"."id" = "s"."administration_id"))))) FROM "administrative_information" AS "ai" WHERE ("ai"."id" = "s"."administration_id"))), '[]'::jsonb) AS "submodel_administrative_information", COUNT(s.id) OVER() AS total_submodels FROM "submodel" AS "s" GROUP BY "s"."id" ORDER BY "s"."id" ASC LIMIT 2